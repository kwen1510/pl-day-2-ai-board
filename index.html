<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Dilemma Quiz v5</title>
<style>
  body {font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 20px; position: relative;}
  .container {max-width: 700px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1); padding: 20px; position: relative;}
  button {padding: 10px 20px; margin: 10px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;}
  button:hover {opacity: 0.9;}
  .yes {background: #4CAF50; color: white;}
  .no {background: #F44336; color: white;}
  .start {background: #2196F3; color: white;}
  .clear-icon {position: absolute; top: 15px; right: 15px; width: 16px; height: 16px; background: #9C27B0; border-radius: 50%; cursor: pointer;}
  .results {margin-top: 15px; font-weight: bold;}
  .description, .guideline {margin-top: 15px; background: #f0f0f0; padding: 10px; border-radius: 8px;}
  .summary {background: #e3f2fd; padding: 15px; border-radius: 8px; margin-top: 20px;}
  .center {text-align: center;}
  .heading {font-weight: bold; color: #1E88E5; font-size: 18px; margin-bottom: 10px;}
  .guideline strong {color: #6A1B9A;}
</style>
</head>
<body>
  <div class="container" id="app">
    <div class="clear-icon" onclick="promptClear()" title="Clear Data"></div>
    <h1 class="center">AI Dilemma Quiz</h1>
    <div id="content" class="center"></div>
  </div>

<script>
const scenarios = [
  {h: "General Teaching Practice", q: "Students use ChatGPT to generate ideas for class discussion.", d: "Should I restrict AI use during class discussion?", g: "Lesson Enactment: Avoid over-reliance. Design parts of the lesson where students engage in non-AI critical thinking, discussion, or hands-on work."},
  {h: "General Teaching Practice", q: "I‚Äôm setting a take-home essay task and worry students may use AI to write it.", d: "Should I redesign the assignment to limit AI use?", g: "Assessment and Feedback: For weighted assessments, ensure tasks are (re)designed to test understanding beyond what AI can easily produce (e.g. oral presentations, process logs)."},
  {h: "General Teaching Practice", q: "I receive a piece of work that seems AI-generated, but I‚Äôm not certain.", d: "Should I confront the student directly about it?", g: "Assessment and Feedback: State clearly if AI is permitted in formative work, and the conditions (e.g. must acknowledge tool used, context of use)."},
  {h: "General Teaching Practice", q: "A teacher uses AI to draft Prelim/Promo exam questions.", d: "Should teachers rely on AI tools to generate assessment questions?", g: "Lesson Preparation: Select vetted, MOE-approved or school-endorsed AI tools (eg. SLS); avoid entering sensitive student or staff data into public tools (eg. ChatGPT, Gemini)."},
  {h: "Aesthetics / Creative Work", q: "A student submits a beautiful artwork fully generated by AI for an art project.", d: "Should AI-generated art be accepted as original student work?", g: "Positive Classroom Culture: Address misconceptions. Clarify that AI is a tool, not a replacement for human effort or creativity."},
  {h: "Humanities / GP", q: "Students use AI to paraphrase or ‚Äúimprove‚Äù their essays, producing fluent but impersonal writing.", d: "Should I allow students to use AI for editing and paraphrasing their essays?", g: "Assessment and Feedback: Encourage student reflection. If they use AI, have them explain how they applied, modified, or fact-checked its output."},
  {h: "Science & Math", q: "Students use ChatGPT to generate step-by-step solutions for tutorial questions.", d: "Should I allow students to use AI-generated solutions as part of their learning process?", g: "Positive Classroom Culture: Address misconceptions. Clarify that AI is a tool, not a replacement for human effort or creativity."},
  {h: "General Classroom Dynamics", q: "Students stop asking questions in class and instead use ChatGPT to find answers.", d: "Should I intervene when students replace teacher interaction with AI help?", g: "Lesson Enactment: Keep human facilitation central and be ready to evaluate and override AI output, teacher moderation ensures accuracy and relevance."},
  {h: "General Classroom Dynamics", q: "In a group project, some students rely heavily on ChatGPT while others work manually.", d: "Should AI-assisted contributions be assessed differently in group work?", g: "Assessment and Feedback: State clearly if AI is permitted in formative work, and the conditions (e.g. must acknowledge tool used, context of use)."}
];

let current = 0;
let responses = JSON.parse(localStorage.getItem('responses_v5')) || Array(scenarios.length).fill(null);
let yesCounts = JSON.parse(localStorage.getItem('yesCounts_v5')) || Array(scenarios.length).fill(0);
let noCounts = JSON.parse(localStorage.getItem('noCounts_v5')) || Array(scenarios.length).fill(0);

function saveData() {
  localStorage.setItem('responses_v5', JSON.stringify(responses));
  localStorage.setItem('yesCounts_v5', JSON.stringify(yesCounts));
  localStorage.setItem('noCounts_v5', JSON.stringify(noCounts));
}

function showStartPage() {
  document.getElementById('content').innerHTML = `
    <h2>Are you ready to start the AI dilemma quiz?</h2>
    <button class='start' onclick='startQuiz()'>Start</button>
  `;
}

function startQuiz() {
  current = 0;
  showScenario(current);
}

function showScenario(index) {
  if (index >= scenarios.length) {
    showSummary();
    return;
  }
  const s = scenarios[index];
  document.getElementById('content').innerHTML = `
    <div class='heading'>${s.h}</div>
    <p><strong>Scenario ${index + 1} of ${scenarios.length}</strong></p>
    <p>${s.q}<br>üëâ ${s.d}</p>
    <div>
      <button class='yes' onclick='vote(${index}, true)'>Yes</button>
      <button class='no' onclick='vote(${index}, false)'>No</button>
    </div>
  `;
}

function vote(index, choice) {
  responses[index] = choice ? 'Yes' : 'No';
  if (choice) yesCounts[index]++; else noCounts[index]++;
  saveData();
  showResult(index);
}

function showResult(index) {
  const s = scenarios[index];
  const total = yesCounts[index] + noCounts[index];
  const yesPercent = total > 0 ? Math.round((yesCounts[index]/total)*100) : 0;
  const noPercent = total > 0 ? Math.round((noCounts[index]/total)*100) : 0;
  document.getElementById('content').innerHTML = `
    <div class='heading'>${s.h}</div>
    <h2>Scenario ${index + 1} Result</h2>
    <p>${s.q}<br>üëâ ${s.d}</p>
    <div class='results'>${yesCounts[index]} out of ${total} (${yesPercent}%) chose YES.<br>${noCounts[index]} out of ${total} (${noPercent}%) chose NO.</div>
    <div class='guideline'><strong>Guideline:</strong> ${s.g}</div>
    <div class='center'><button class='start' onclick='nextScenario()'>Next</button></div>
  `;
}

function nextScenario() {
  current++;
  if (current < scenarios.length) {
    showScenario(current);
  } else {
    showSummary();
  }
}

function showSummary() {
  const totalYes = responses.filter(r => r === 'Yes').length;
  const totalNo = responses.filter(r => r === 'No').length;
  const yesPct = Math.round((totalYes / scenarios.length) * 100);
  const noPct = Math.round((totalNo / scenarios.length) * 100);
  document.getElementById('content').innerHTML = `
    <div class='summary'>
      <h2>Summary of Results</h2>
      <p>${totalYes} out of ${scenarios.length} (${yesPct}%) chose YES.</p>
      <p>${totalNo} out of ${scenarios.length} (${noPct}%) chose NO.</p>
      <p>Thank you for completing the quiz!</p>
      <button class='start' onclick='showStartPage()'>Return to Start</button>
    </div>
  `;
}

function promptClear() {
  const pw = window.prompt('Enter password to clear data:');
  if (pw === 'PLD2') {
    localStorage.removeItem('responses_v5');
    localStorage.removeItem('yesCounts_v5');
    localStorage.removeItem('noCounts_v5');
    responses = Array(scenarios.length).fill(null);
    yesCounts = Array(scenarios.length).fill(0);
    noCounts = Array(scenarios.length).fill(0);
    alert('Data cleared successfully!');
    showStartPage();
  } else if (pw !== null) {
    alert('Incorrect password.');
  }
}

showStartPage();
</script>
</body>
</html>
